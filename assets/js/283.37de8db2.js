(window.webpackJsonp=window.webpackJsonp||[]).push([[283],{1137:function(s,t,a){"use strict";a.r(t);var e=a(15),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("执行的远程主机列表(应用在哪些主机上")])]),s._v(" "),a("ul",[a("li",[s._v("playbook中的每一个play的目的都是为了让特定主机以某个指定的用户身份执行任务")]),s._v(" "),a("li",[s._v("hosts用于指定要执行指定任务的主机，须事先定义在主机清单中")])]),s._v(" "),a("h2",{attrs:{id:"形式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#形式"}},[s._v("#")]),s._v(" 形式")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("one.example.com\none.example.com:two.example.com\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.50\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.*\n\nWebsrvs:dbsrvs       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者，两个组的并集")]),s._v("\nWebsrvs:"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("dbsrvs      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与，两个组的交集")]),s._v("\nwebservers:"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("phoenix  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在websrvs组，但不在dbsrvs组")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("hosts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" websrvs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("dbsrvs\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"remote-user"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#remote-user"}},[s._v("#")]),s._v(" remote_user")]),s._v(" "),a("p",[s._v("用于host和task中， 也可以通过指定其通过sudo的方式在远程主机上执行任务，其可用于play全局或某任务，此外，甚至可以在sudo时使用sudo_user指定sudo时切换的用户")]),s._v(" "),a("p",[s._v("示例")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("hosts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" websrvs\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("remote_user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" root   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# (可省略,默认为root)  以root身份连接")]),s._v("\n  \n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tasks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定任务")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" test connection "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# task的描述")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("remote_user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" s\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("sudo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" yes           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认sudo为root")]),s._v("\n        sudo_user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("wang      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo为wang")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);