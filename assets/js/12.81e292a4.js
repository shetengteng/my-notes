(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1212:function(t,s,a){"use strict";a.r(s);var r=a(15),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"解决什么问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#解决什么问题"}},[t._v("#")]),t._v(" 解决什么问题")]),t._v(" "),r("h3",{attrs:{id:"开放系统间授权"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#开放系统间授权"}},[t._v("#")]),t._v(" 开放系统间授权")]),t._v(" "),r("blockquote",[r("p",[t._v("如照片拥有者想要在云冲印服务上打印照片，云冲印服务需要访问云存储服务上的资源")])]),t._v(" "),r("img",{staticStyle:{zoom:"67%"},attrs:{src:a(745)}}),t._v(" "),r("p",[t._v("资源拥有者：照片拥有者\n客户应用：云冲印\n受保护的资源：照片")]),t._v(" "),r("img",{staticStyle:{zoom:"67%"},attrs:{src:a(746)}}),t._v(" "),r("h3",{attrs:{id:"分析"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[t._v("#")]),t._v(" 分析")]),t._v(" "),r("p",[t._v("如果要实现该功能有如下方案")]),t._v(" "),r("h4",{attrs:{id:"方案1-密码用户名复制"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方案1-密码用户名复制"}},[t._v("#")]),t._v(" 方案1 密码用户名复制")]),t._v(" "),r("img",{attrs:{src:a(747)}}),t._v(" "),r("p",[t._v('用户将自己的"云存储"服务的用户名和密码，告诉"云冲印"，后者就可以读取用户的照片了\n但是该做法有以下缺点')]),t._v(" "),r("ul",[r("li",[t._v('"云冲印"为了后续的服务，会保存用户的密码，不安全')]),t._v(" "),r("li",[t._v("Google不得不部署密码登录，而单纯的密码登录不安全")]),t._v(" "),r("li",[t._v('"云冲印"拥有了获取用户储存在Google所有资料的权力，用户没法限制"云冲印"获得授权的范围和有效期')]),t._v(" "),r("li",[t._v('用户只有修改密码，才能收回赋予"云冲印"的权力；但会使得其他所有获得用户授权的第三方应用程序全部失效')]),t._v(" "),r("li",[t._v("只要有一个第三方应用程序被破解，就会导致用户密码泄漏，以及所有被密码保护的数据泄漏")])]),t._v(" "),r("p",[t._v("总结")]),t._v(" "),r("ul",[r("li",[t._v("将受保护的资源中的用户名和密码存储在客户应用的服务器上，使用时直接使用这个用户名和密码登录")]),t._v(" "),r("li",[t._v("适用于同一公司内部的多个系统，不适用于不受信的第三方应用")])]),t._v(" "),r("h4",{attrs:{id:"方案2-通用开发者key"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方案2-通用开发者key"}},[t._v("#")]),t._v(" 方案2 通用开发者key")]),t._v(" "),r("img",{attrs:{src:a(748)}}),t._v(" "),r("p",[t._v("适用于合作商或者授信的不同业务部门之间")]),t._v(" "),r("h4",{attrs:{id:"方案3-颁发令牌"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方案3-颁发令牌"}},[t._v("#")]),t._v(" 方案3 颁发令牌")]),t._v(" "),r("p",[t._v("接近OAuth2方式，需要考虑如何管理令牌、颁发令牌、吊销令牌，需要统一的协议，因此就有了OAuth2协议\n给应用授予有限的访问权限，让应用可以代表用户去访问用户的数据")]),t._v(" "),r("img",{attrs:{src:a(749)}}),t._v(" "),r("h2",{attrs:{id:"oauth2介绍"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#oauth2介绍"}},[t._v("#")]),t._v(" OAuth2介绍")]),t._v(" "),r("h3",{attrs:{id:"主要角色"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#主要角色"}},[t._v("#")]),t._v(" 主要角色")]),t._v(" "),r("img",{attrs:{src:a(750)}}),t._v(" "),r("h3",{attrs:{id:"应用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#应用"}},[t._v("#")]),t._v(" 应用")]),t._v(" "),r("h4",{attrs:{id:"微服务安全"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#微服务安全"}},[t._v("#")]),t._v(" 微服务安全")]),t._v(" "),r("p",[t._v("现代微服务中系统微服务化以及应用的形态和设备类型增多，不能用传统的登录方式\n核心的技术不是用户名和密码，而是token，由AuthServer颁发token，用户使用token进行登录")]),t._v(" "),r("img",{attrs:{src:a(751)}}),t._v(" "),r("h4",{attrs:{id:"社交应用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#社交应用"}},[t._v("#")]),t._v(" 社交应用")])])}),[],!1,null,null,null);s.default=e.exports},745:function(t,s,a){t.exports=a.p+"assets/img/1.538067b2.png"},746:function(t,s,a){t.exports=a.p+"assets/img/2.ee4d52bc.png"},747:function(t,s,a){t.exports=a.p+"assets/img/3.1f78aa16.png"},748:function(t,s,a){t.exports=a.p+"assets/img/4.7fd55ecd.png"},749:function(t,s,a){t.exports=a.p+"assets/img/5.43e128fd.png"},750:function(t,s,a){t.exports=a.p+"assets/img/6.1b9ecce1.png"},751:function(t,s,a){t.exports=a.p+"assets/img/7.6c680225.png"}}]);