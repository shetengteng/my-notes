(window.webpackJsonp=window.webpackJsonp||[]).push([[224],{1288:function(l,e,v){"use strict";v.r(e);var _=v(15),a=Object(_.a)({},(function(){var l=this,e=l.$createElement,v=l._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[v("p",[l._v("Kafka 副本作用：提高数据可靠性")]),l._v(" "),v("p",[l._v("Kafka 默认副本 1 个，生产环境一般配置为 2 个，保证数据可靠性；太多副本会 增加磁盘存储空间，增加网络上数据传输，降低效")]),l._v(" "),v("p",[l._v("Kafka 中副本分为")]),l._v(" "),v("ul",[v("li",[v("p",[l._v("Leader")]),l._v(" "),v("ul",[v("li",[l._v("Kafka 生产者只会把数据发往 Leader")])])]),l._v(" "),v("li",[v("p",[l._v("Follower")]),l._v(" "),v("ul",[v("li",[l._v("Follower 找 Leader 进行同步数据")])])])]),l._v(" "),v("p",[l._v("Kafka 分区中的所有副本统称为 AR（Assigned Replicas）")]),l._v(" "),v("ul",[v("li",[v("p",[l._v("AR = ISR + OSR")])]),l._v(" "),v("li",[v("p",[l._v("ISR")]),l._v(" "),v("ul",[v("li",[l._v("表示和 Leader 保持同步的 Follower 集合")]),l._v(" "),v("li",[l._v("如果 Follower 长时间未向 Leader 发送通信请求或同步数据，则该 Follower 将被踢出 ISR\n"),v("ul",[v("li",[l._v("时间阈值由 "),v("code",[l._v("replica.lag.time.max.ms")]),l._v(" 参数设定，默认 30s")])])]),l._v(" "),v("li",[l._v("Leader 发生故障之后，就会从 ISR 中选举新的 Leader")])])]),l._v(" "),v("li",[v("p",[l._v("OSR")]),l._v(" "),v("ul",[v("li",[l._v("表示 Follower 与 Leader 副本同步时，延迟过多的副本")])])])])])}),[],!1,null,null,null);e.default=a.exports}}]);