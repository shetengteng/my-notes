(window.webpackJsonp=window.webpackJsonp||[]).push([[260],{1207:function(v,t,s){"use strict";s.r(t);var _=s(15),i=Object(_.a)({},(function(){var v=this,t=v.$createElement,s=v._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[s("blockquote",[s("p",[v._v("服务 service 本质是进程，运行后台的进程，通常会监听某个端口，等待其他程序的请求，如mysql，sshd,防火墙等\n服务 又称为守护进程")])]),v._v(" "),s("h2",{attrs:{id:"service管理指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service管理指令"}},[v._v("#")]),v._v(" service管理指令")]),v._v(" "),s("p",[v._v("基本语法")]),v._v(" "),s("ul",[s("li",[v._v("service 服务名 [start|stop|restart|reload|status]")])]),v._v(" "),s("p",[v._v("说明")]),v._v(" "),s("ul",[s("li",[v._v("start 开启服务\n"),s("ul",[s("li",[v._v("service network start 启动网络服务，临时开启，关机之后失效")])])]),v._v(" "),s("li",[v._v("stop 关闭服务\n"),s("ul",[s("li",[v._v("service network stop 关闭网络服务")])])]),v._v(" "),s("li",[v._v("restart 重启服务\n"),s("ul",[s("li",[v._v("service network restart 重启网络服务")])])]),v._v(" "),s("li",[v._v("status 查看服务状态\n"),s("ul",[s("li",[v._v("service network status 查看网络服务的状态")]),v._v(" "),s("li",[v._v("service --status-all 查看所有服务的状态")])])])]),v._v(" "),s("p",[v._v("注意：在centos7.0后，不再使用service，而使用systemctl")]),v._v(" "),s("p",[v._v("应用案例")]),v._v(" "),s("ul",[s("li",[v._v("查看防火墙的状况，关闭和重启防火墙\n"),s("ul",[s("li",[v._v("service iptables status")]),v._v(" "),s("li",[v._v("service iptables stop")]),v._v(" "),s("li",[v._v("service iptables start")]),v._v(" "),s("li",[v._v("注意：关闭和启用防火墙会立刻生效，但是这种方式是暂时的，当系统重启后，会回归以前对服务的设置，如果希望设置后某个服务自动启动或关闭永久生效，要使用chkconfig指令")])])])]),v._v(" "),s("h2",{attrs:{id:"查看服务名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看服务名"}},[v._v("#")]),v._v(" 查看服务名")]),v._v(" "),s("p",[v._v("方式1：使用setup -> 系统服务可以看到")]),v._v(" "),s("p",[v._v("方式2：查看 /etc/init.d/服务名称")]),v._v(" "),s("ul",[s("li",[v._v("ls -l /etc/init.d/ ：列出系统有哪些服务")])]),v._v(" "),s("h2",{attrs:{id:"服务的运行级别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务的运行级别"}},[v._v("#")]),v._v(" 服务的运行级别")]),v._v(" "),s("p",[v._v("linux 有7种运行级别 runlevel；常用的级别是3和5")]),v._v(" "),s("ul",[s("li",[v._v("级别0：系统停机状态，系统默认运行状态不能设置为0，否则不能正常启动")]),v._v(" "),s("li",[v._v("级别1：单用户工作状态，root权限，用于系统维护，禁止远程登录")]),v._v(" "),s("li",[v._v("级别2：多用户状态，没有NFS，不支持网络")]),v._v(" "),s("li",[v._v("级别3：完全的多用户状态，有NFS，登录后进入控制台命令行模式")]),v._v(" "),s("li",[v._v("级别4：系统未使用，保留")]),v._v(" "),s("li",[v._v("级别5：X11控制台，登录后进入图形GUI模式")]),v._v(" "),s("li",[v._v("级别6：系统正常关闭并重启，默认运行级别不能设置为6，否则不能正常启动")])]),v._v(" "),s("h3",{attrs:{id:"开机流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开机流程"}},[v._v("#")]),v._v(" 开机流程")]),v._v(" "),s("p",[v._v("开机->bios->/boot->init进程1->运行级别->运行级别对应的服务")]),v._v(" "),s("h3",{attrs:{id:"查看或者修改默认级别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看或者修改默认级别"}},[v._v("#")]),v._v(" 查看或者修改默认级别")]),v._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[v._v("vim")]),v._v(" /etc/inittab\n")])]),v._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[v._v("1")]),s("br")])]),s("h2",{attrs:{id:"chkconfig-设置后台服务的自启-关闭"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chkconfig-设置后台服务的自启-关闭"}},[v._v("#")]),v._v(" chkconfig 设置后台服务的自启/关闭")]),v._v(" "),s("blockquote",[s("p",[v._v("在服务启动时就生效，"),s("strong",[v._v("不需要每次手动启动，一次配置永久生效")]),v._v("\n通过chkconfig命令可以给各个服务的各个运行级别设置自启动和关闭")])]),v._v(" "),s("p",[v._v("基本语法")]),v._v(" "),s("ul",[s("li",[v._v("chkconfig --list | grep xxx\n"),s("ul",[s("li",[v._v("查看服务器所有的自启服务配置")])])]),v._v(" "),s("li",[v._v("chkconfig 服务名 --list\n"),s("ul",[s("li",[v._v("查看某个服务的自启配置")])])]),v._v(" "),s("li",[v._v("chkconfig 服务名 status\n"),s("ul",[s("li",[v._v("查看某个服务的运行状态")])])]),v._v(" "),s("li",[v._v("chkconfig 服务名 on/off\n"),s("ul",[s("li",[v._v("开启/关闭指定服务的自启功能")])])]),v._v(" "),s("li",[v._v("chkconfig --level 5 服务名 on/off\n"),s("ul",[s("li",[v._v("将指定服务在运行级别在5的情况下，设置自启动或者关闭")])])])]),v._v(" "),s("p",[v._v("应用实例")]),v._v(" "),s("ul",[s("li",[v._v("显示当前系统所有服务的各个运行级别的运行状态\n"),s("ul",[s("li",[v._v("bash > chkconfig --list")])])]),v._v(" "),s("li",[v._v("查看sshd 服务的运行状态\n"),s("ul",[s("li",[v._v("chkconfig sshd status")])])]),v._v(" "),s("li",[v._v("将sshd 服务在运行级别5以下设置为不自动启动\n"),s("ul",[s("li",[v._v("chkconfig --level 5 sshd off")])])]),v._v(" "),s("li",[v._v("在所有运行级别下，关闭防火墙\n"),s("ul",[s("li",[v._v("chkconfig iptables off")])])]),v._v(" "),s("li",[v._v("在所有运行级别下，开启防火墙\n"),s("ul",[s("li",[v._v("chkconfig iptables on")])])])]),v._v(" "),s("p",[v._v("注意：chkconfig 重新设置服务后自启或关闭，需要重启机器reboot才能生效")])])}),[],!1,null,null,null);t.default=i.exports}}]);